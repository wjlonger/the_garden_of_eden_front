webpackJsonp([0,1,4,5],{"162o":function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n("mypn"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n("DuR2"))},"1H6C":function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n("HhN8"),i)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},"3C/1":function(e,t,n){n("M6a0"),n("zQR9"),n("+tPU"),n("qCoq"),n("UvrK"),n("Xjd4"),n("bqnK"),e.exports=n("FeBl").Map},"4WTo":function(e,t,n){var r=n("NWt+");e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},"7Doy":function(e,t,n){var r=n("EqjI"),i=n("7UMu"),a=n("dSzd")("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},"9Bbf":function(e,t,n){"use strict";var r=n("kM2E");e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},"9C8M":function(e,t,n){"use strict";var r=n("evD5").f,i=n("Yobk"),a=n("xH/j"),o=n("+ZMJ"),s=n("2KxR"),l=n("NWt+"),c=n("vIB/"),u=n("EGZi"),p=n("bRrM"),f=n("+E39"),d=n("06OY").fastKey,v=n("LIJb"),h=f?"_s":"size",m=function(e,t){var n,r=d(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e(function(e,r){s(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[h]=0,void 0!=r&&l(r,n,e[c],e)});return a(u.prototype,{clear:function(){for(var e=v(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var n=v(this,t),r=m(n,e);if(r){var i=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=i),i&&(i.p=a),n._f==r&&(n._f=i),n._l==r&&(n._l=a),n[h]--}return!!r},forEach:function(e){v(this,t);for(var n,r=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(v(this,t),e)}}),f&&r(u.prototype,"size",{get:function(){return v(this,t)[h]}}),u},def:function(e,t,n){var r,i,a=m(e,t);return a?a.v=n:(e._l=a={i:i=d(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=a),r&&(r.n=a),e[h]++,"F"!==i&&(e._i[i]=a)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=v(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),p(t)}}},ALrJ:function(e,t,n){var r=n("+ZMJ"),i=n("MU5D"),a=n("sB3e"),o=n("QRG4"),s=n("oeOm");e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,p=6==e,f=5==e||p,d=t||s;return function(t,s,v){for(var h,m,y=a(t),_=i(y),g=r(s,v,3),b=o(_.length),w=0,x=n?d(t,b):l?d(t,0):void 0;b>w;w++)if((f||w in _)&&(m=g(h=_[w],w,y),e))if(n)x[w]=m;else if(m)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:x.push(h)}else if(u)return!1;return p?-1:c||u?u:x}}},BO1k:function(e,t,n){e.exports={default:n("fxRn"),__esModule:!0}},HhN8:function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag",c="object"==typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=b;var p="suspendedStart",f="suspendedYield",d="executing",v="completed",h={},m={};m[o]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(D([])));_&&_!==r&&i.call(_,o)&&(m=_);var g=z.prototype=x.prototype=Object.create(m);k.prototype=g.constructor=z,z.constructor=k,z[l]=k.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,z):(e.__proto__=z,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(g),e},u.awrap=function(e){return{__await:e}},N(j.prototype),j.prototype[s]=function(){return this},u.AsyncIterator=j,u.async=function(e,t,n,r){var i=new j(b(e,t,n,r));return u.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},N(g),g[l]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=D,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:D(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),h}}}function b(e,t,n,r){var i=t&&t.prototype instanceof x?t:x,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r=p;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=w(e,t,n);if("normal"===l.type){if(r=n.done?v:f,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=v,n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function x(){}function k(){}function z(){}function N(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function j(e){var t;this._invoke=function(n,r){function a(){return new Promise(function(t,a){!function t(n,r,a,o){var s=w(e[n],e,r);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,a,o)},function(e){t("throw",e,a,o)}):Promise.resolve(c).then(function(e){l.value=e,a(l)},o)}o(s.arg)}(n,r,t,a)})}return t=t?t.then(a,a):a()}}function T(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=w(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},HpRW:function(e,t,n){"use strict";var r=n("kM2E"),i=n("lOnJ"),a=n("+ZMJ"),o=n("NWt+");e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,l=arguments[1];return i(this),(t=void 0!==l)&&i(l),void 0==e?new this:(n=[],t?(r=0,s=a(l,arguments[2],2),o(e,!1,function(e){n.push(s(e,r++))})):o(e,!1,n.push,n),new this(n))}})}},IVj8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"onlineTimes",function(){return i}),n.d(t,"shortcuts",function(){return a}),n.d(t,"onlineAppformRules",function(){return o}),n.d(t,"onlineNeedTypes",function(){return s});var r=n("0xDb"),i=[{value:1350,label:"22:30"},{value:1230,label:"20:30"}],a=[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"明天",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}}],o={name:[{required:!0,message:"请输入您的姓名",trigger:["blur","change"]},{min:2,max:5,message:"请输入正确的姓名",trigger:["blur","change"]}],phone:[{required:!0,message:"请输入电话号码",trigger:["blur","change"]},{validator:function(e,t,n){Object(r.c)(t)?n():n(new Error("请输入正确的11位手机号码"))},trigger:["blur","change"]}],email:[{required:!0,message:"请输入邮箱地址",trigger:["blur","change"]},{validator:function(e,t,n){Object(r.b)(t)?n():n(new Error("请输入正确的邮箱"))},trigger:["blur","change"]}],date:[{type:"number",required:!0,message:"请选择日期",trigger:["blur","change"]}],time:[{type:"number",required:!0,message:"请选择时间",trigger:["blur","change"]}]},s=[{value:0,label:"需求"},{value:1,label:"优化"},{value:2,label:"BUG"}]},LIJb:function(e,t,n){var r=n("EqjI");e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},Ngpc:function(e,t){},Pjfj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{name:"吴俊龙",phone:"18633540415",email:"wujunlong@mankebao.com"},{name:"范旭涛",phone:"13191811303",email:"fanxutao@mankebao.com"},{name:"沈会亮",phone:"18533579092",email:"shenhuiliang@mankebao.com"},{name:"孟凡强",phone:"18003349857",email:"mengfanqiang@mankebao.com"},{name:"张振冬",phone:"13333333943",email:"zhangzhendong@mankebao.com"},{name:"孙琳曼",phone:"18503302794",email:"sunlinman@mankebao.com"},{name:"张飞东",phone:"17502192219",email:"zhangfeidong@mankebao.com"},{name:"王坤鹏",phone:"13292353911",email:"wangkunpeng@mankebao.com"},{name:"计泽汉",phone:"13303281994",email:"jizehan@mankebao.com"},{name:"王爽",phone:"13784492026",email:"wangshuang@mankebao.com"},{name:"徐永胜",phone:"15032381683",email:"xuyongsheng@mankebao.com"},{name:"董佳伟",phone:"13292353138",email:"dongjiawei@mankebao.com"},{name:"贺心悦",phone:"18333601853",email:"hexinyue@mankebao.com"},{name:"刘杨",phone:"15369690210",email:"liuyang@mankebao.com"},{name:"张航宇",phone:"15711491179",email:"zhanghangyu@mankebao.com"},{name:"刘思良",phone:"15233550605",email:"liusiliang@mankebao.com"},{name:"张苗",phone:"15801163476",email:"zhangmiao@mankebao.com"},{name:"单彦琼",phone:"18532008087",email:"shanyanliang@mankebao.com"},{name:"王建",phone:"13091380390",email:"wangjian@mankebao.com"},{name:"赵相红",phone:"18630397130",email:"zhaoxianghong@mankebao.com"},{name:"齐津铖",phone:"18733455078",email:"qijincheng@mankebao.com"},{name:"呼杰",phone:"13716997892",email:"hujie@mankebao.com"},{name:"吴繁",phone:"18310066806",email:"wufan@mankebao.com"},{name:"邵雯",phone:"15910395184",email:"shaowen@mankebao.com"}]},UvrK:function(e,t,n){var r=n("kM2E");r(r.P+r.R,"Map",{toJSON:n("m9gC")("Map")})},Vj7S:function(e,t){},Xjd4:function(e,t,n){n("9Bbf")("Map")},Xxa5:function(e,t,n){e.exports=n("1H6C")},bqnK:function(e,t,n){n("HpRW")("Map")},exGp:function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("//Fk"),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,n){return function r(i,o){try{var s=t[i](o),l=s.value}catch(e){return void n(e)}if(!s.done)return a.default.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}},fxRn:function(e,t,n){n("+tPU"),n("zQR9"),e.exports=n("g8Ux")},g8Ux:function(e,t,n){var r=n("77Pl"),i=n("3fs2");e.exports=n("FeBl").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},ifoU:function(e,t,n){e.exports={default:n("3C/1"),__esModule:!0}},m9gC:function(e,t,n){var r=n("RY/4"),i=n("4WTo");e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},mAnC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("BO1k"),a=n.n(i),o=n("mvHQ"),s=n.n(o),l=n("woOf"),c=n.n(l),u=n("Xxa5"),p=n.n(u),f=n("Gu7T"),d=n.n(f),v=n("exGp"),h=n.n(v),m=n("mtWM"),y=n.n(m),g=this,b=(r=h()(p.a.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.baseURL,r=void 0===n?window.API_ROOT:n,i=t.url,a=void 0===i?"":i,o=t.params,s=void 0===o?{}:o,l=t.args,c=void 0===l?{}:l,u=t.method,f=void 0===u?"GET":u,d=t.success,v=void 0===d?function(){}:d,h=t.error,m=void 0===h?function(){}:h;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=a.startsWith("/")?r+a:r+"/"+a,e.t0=f=f.toUpperCase(),e.next="POST"===e.t0?4:"DELETE"===e.t0?5:"PUT"===e.t0?6:(e.t0,7);break;case 4:return e.abrupt("return",y.a.post(a,s).then(function(e){return v(e,c),e.data}).catch(function(e){return m(e,c),e.data}));case 5:return e.abrupt("return",y.a.delete(a,s).then(function(e){return v(e,c),e.data}).catch(function(e){return m(e,c),e.data}));case 6:return e.abrupt("return",y.a.put(a,s).then(function(e){return v(e,c),e.data}).catch(function(e){return m(e,c),e.data}));case 7:return e.abrupt("return",y.a.get(a,{params:s}).then(function(e){return v(e,c),e.data}).catch(function(e){return m(e,c),e.data}));case 8:case"end":return e.stop()}},e,g)})),function(){return r.apply(this,arguments)}),w=n("162o"),x=n("pkTi"),k=n("IVj8"),z=n("Pjfj"),N=n("ifoU"),j=n.n(N),T=[{id:0,label:"1）、运维人员提前1个小时构建服务端应用Jenkins",delete:!1},{id:1,label:"2）、DBA升级华东数据库，然后升级华北数据库",delete:!1},{id:2,label:"3）、运维上线华东应用",delete:!1},{id:3,label:"4）、运维发送上线完成邮件",delete:!1},{id:4,label:"5）、测试人员测试支付",delete:!1},{id:5,label:"6）、测试人员发送测试完成邮件",delete:!1},{id:6,label:"7）、运维上线华北应用",delete:!1},{id:7,label:"8）、运维发送上线完成邮件",delete:!1},{id:8,label:"9）、测试人员测试支付",delete:!1},{id:9,label:"10）、测试人员发送测试完成邮件",delete:!1},{id:10,label:"11）、运维在出现问题后立即回滚华北应用及华东应用",delete:!1}],O={props:["onlineInfo"],data:function(){return{onlineFlow:T,onlineNeedTypes:k.onlineNeedTypes,eastServers:x.eastServers,commons:x.commons}},filters:{formateDate:function(e){var t=new Date(e.date),n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),a=parseInt(e.time/60),o="";return a>=18?o="晚上":a<18&&a>=12?o="下午":a<12&&a>=8?o="上午":a<8&&(o="凌晨"),n+"年"+r+"月"+i+"日"+o},formatTime:function(e){return _.filter(k.onlineTimes,function(t){return e.time===t.value})[0].label},userInfo:function(e){return"申请人："+e.name+"  手机号："+e.phone+"  邮箱："+e.email},needInfo:function(e,t){return void 0===e.type?"":"【"+t[e.type].label+"】 "+e.name},needName:function(e,t,n){var r=!0,i=!1,o=void 0;try{for(var s,l=a()(t.needList);!(r=(s=l.next()).done);r=!0){var c=s.value;if(c.name===e)return"【"+n[c.type].label+"】 "+e}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return""},rowspan:function(e){var t=0,n=!0,r=!1,i=void 0;try{for(var o,s=a()(e);!(n=(o=s.next()).done);n=!0){t+=o.value[1].length}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return t},at:function(e){if(e.length>0){var t=e.split("，");for(var n in t)t[n]="@"+t[n];return t.join("，")}return""}},computed:{developer:function(){var e=[],t=this.onlineInfo.needList;for(var n in t){var r=t[n],i=r.serverList.concat(r.frontList);for(var a in i)-1===e.indexOf(i[a].userName)&&e.push(i[a].userName)}return e.join("，")},tester:function(){var e=[],t=this.onlineInfo.needList;for(var n in t){var r=t[n].testList;for(var i in r)-1===e.indexOf(r[i].userName)&&e.push(r[i].userName)}return e.join("，")},total:function(){var e=[];return this.developer.length>0&&e.push(this.developer),this.tester.length>0&&e.push(this.tester),e.join("，")},needs:function(){var e=this.onlineInfo.needList,t=new j.a;for(var n in e){var r=new j.a,i=e[n],a=i.serverList,o=i.frontList;if(0!==a.concat(o).length){for(var s in a){var l=a[s],c=r.get(l.projectBranch);void 0!==c?c.push(l):(c=[]).push(l),r.set(l.projectBranch,c)}for(var u in o){var p=o[u],f=r.get(p.projectBranch);void 0!==f?f.push(p):(f=[]).push(p),r.set(p.projectBranch,f)}}t.set(i.name,r)}return t},northProjects:function(){var e=this.onlineInfo.needList,t=[],n=[],r=!0,i=!1,o=void 0;try{for(var l,u=a()(e);!(r=(l=u.next()).done);r=!0){var p=l.value,f=p.serverList,d=p.frontList,v=!0,h=!1,m=void 0;try{for(var y,_=a()(d);!(v=(y=_.next()).done);v=!0){var g=y.value;-1===n.indexOf(g.projectName)&&(t.push(JSON.parse(s()(g))),n.push(g.projectName))}}catch(e){h=!0,m=e}finally{try{!v&&_.return&&_.return()}finally{if(h)throw m}}var b=!0,w=!1,x=void 0;try{for(var k,z=a()(f);!(b=(k=z.next()).done);b=!0){var N=k.value;-1===n.indexOf(N.projectName)&&(t.push(JSON.parse(s()(N))),n.push(N.projectName),"zys-pay"===N.projectName&&t.push(c()(JSON.parse(s()(N)),{projectName:"zys-payschedule"})))}}catch(e){w=!0,x=e}finally{try{!b&&z.return&&z.return()}finally{if(w)throw x}}}}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return t.sort(function(e,t){return e.projectName>t.projectName?1:-1})},eastProjects:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,o=a()(this.northProjects);!(t=(i=o.next()).done);t=!0){var l=i.value,c=!0,u=!1,p=void 0;try{for(var f,d=a()(this.eastServers);!(c=(f=d.next()).done);c=!0){var v=f.value;l.projectName===v.value&&e.push(JSON.parse(s()(l)))}}catch(e){u=!0,p=e}finally{try{!c&&d.return&&d.return()}finally{if(u)throw p}}}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e},hasSql:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=a()(this.onlineInfo.needList);!(e=(r=i.next()).done);e=!0){if(r.value.sqlList.length>0)return!0}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}return!1},devops:function(){return this.onlineInfo.needList.map(function(e){return e.remarkList.filter(function(e){return 0===e.remarkType})}).flat()},terminals:function(){return this.onlineInfo.needList.map(function(e){return e.remarkList.filter(function(e){return 1===e.remarkType})}).flat()},effects:function(){return this.onlineInfo.needList.map(function(e){return e.remarkList.filter(function(e){return 2===e.remarkType})}).flat()},notes:function(){return this.onlineInfo.needList.map(function(e){return e.remarkList.filter(function(e){return 3===e.remarkType})}).flat()}},methods:{rowspan:function(e){var t=0,n=!0,r=!1,i=void 0;try{for(var o,s=a()(e);!(n=(o=s.next()).done);n=!0){t+=o.value[1].length}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return t},copy:function(){var e=document.getElementById("app-preview-"+this.onlineInfo.id);if(document.body.createTextRange){var t=document.body.createTextRange();t.moveToElementText(e),t.select(),this.$notify({type:"success",title:"成功",message:"复制成功"})}else if(window.getSelection){var n=window.getSelection(),r=document.createRange();r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r),this.$notify({type:"success",title:"成功",message:"复制成功"})}else this.$notify.error({title:"失败",message:"复制失败！"});document.execCommand("Copy","false",null),setTimeout(function(){return window.getSelection().empty()},100)}}},L={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-preview",attrs:{id:"app-preview-"+e.onlineInfo.id},on:{dblclick:e.copy}},[e._v("\n    "+e._s(e.total)+"  您好：\n    "),n("div",[n("div",{staticClass:"preview-main-title"},[e._v("一、上线时间")]),e._v(" "),n("div",{staticClass:"preview-one-date"},[e._v("\n            "+e._s(e._f("formateDate")(e.onlineInfo))),n("span",{staticStyle:{color:"red"}},[e._v(e._s(e._f("formatTime")(e.onlineInfo)))])])]),e._v(" "),n("div",[n("div",{staticClass:"preview-main-title"},[e._v("二、上线内容")]),e._v(" "),n("div",{staticClass:"preview-two-date"},[n("div",{staticClass:"preview-minor-title"},[e._v("1、功能需求")]),e._v(" "),n("ul",e._l(e.onlineInfo.needList,function(t){return n("li",{key:t.id},[e._v("\n                  "+e._s(e._f("needInfo")(t,e.onlineNeedTypes))+"\n              ")])}),0)]),e._v(" "),n("div",[n("div",{staticClass:"preview-minor-title"},[e._v("2、运维上线内容")]),e._v(" "),e.devops.length>0?[n("ul",e._l(e.devops,function(t){return n("li",{key:t.id},[e._v(e._s(t.remark))])}),0)]:[e._m(0)]],2),e._v(" "),n("div",[n("div",{staticClass:"preview-minor-title"},[e._v("3、终端上线内容")]),e._v(" "),e.terminals.length>0?[n("ul",e._l(e.terminals,function(t){return n("li",{key:t.id},[e._v(e._s(t.remark))])}),0)]:[e._m(1)]],2),e._v(" "),n("div",{staticClass:"preview-two-date"},[n("div",{staticClass:"preview-minor-title"},[e._v("4、数据库上线内容")]),e._v(" "),n("div",{staticClass:"preview-two-four-date"},[e.hasSql?[n("ul",[e._l(e.onlineInfo.needList,function(t){return[t.sqlList.length>0?[n("li",{key:t.id},[e._v(e._s(t.name))]),e._v(" "),e._l(t.sqlList,function(r,i){return[e._l(r.remark.split("\n"),function(r,a){return n("p",{key:t.id+"-"+i+"-"+a,staticClass:"preview-two-four-date-sql"},[e._v("\n                    "+e._s(r)+"\n                  ")])}),e._v(" "),n("br",{key:r.id})]})]:e._e()]})],2)]:[e._m(2)]],2)])]),e._v(" "),n("div",[n("div",{staticClass:"preview-main-title"},[e._v("三、上线影响")]),e._v(" "),e.effects.length>0?[n("ul",e._l(e.effects,function(t){return n("li",{key:t.id},[e._v(e._s(t.remark))])}),0)]:[e._m(3)]],2),e._v(" "),n("div",[n("div",{staticClass:"preview-main-title"},[e._v("四、上线风险及注意事项")]),e._v(" "),e.notes.length>0?[n("ul",e._l(e.notes,function(t){return n("li",{key:t.id},[e._v(e._s(t.remark))])}),0)]:[e._m(4)]],2),e._v(" "),n("div",[n("div",{staticClass:"preview-main-title"},[e._v("五、上线流程")]),e._v(" "),n("ul",e._l(e.onlineFlow,function(t){return n("li",{key:t.id,class:{deleteFlow:t.delete},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.delete=!t.delete}}},[e._v(e._s(t.label))])}),0)]),e._v(" "),e._m(5),e._v(" "),n("div",[n("div",{staticClass:"preview-main-title"},[e._v("七、上线人员")]),e._v(" "),n("div",[e._v("研发："+e._s(e._f("at")(e.developer)))]),e._v(" "),n("div",[e._v("测试："+e._s(e._f("at")(e.tester)))]),e._v(" "),n("div",[e._v("DBA：@郜文博")]),e._v(" "),n("div",[e._v("运维：@纪宪博")])]),e._v(" "),e._m(6),e._v(" "),n("div",[n("div",{staticClass:"preview-main-title"},[e._v("九、上线应用列表")]),e._v(" "),n("div",[n("div",{staticClass:"preview-minor-title"},[e._v("1、华东应用上线列表")]),e._v(" "),n("table",{staticClass:"preview-border",attrs:{border:"1"}},[e._m(7),e._v(" "),n("tbody",[e._l(e.commons,function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t))]),e._v(" "),n("td",[e._v(" - ")]),e._v(" "),n("td",[e._v(" - ")]),e._v(" "),n("td",[e._v("否")])])}),e._v(" "),e._l(e.eastProjects,function(t,r){return n("tr",{key:t.id+"-0-"+r},[n("td",[e._v(e._s(t.projectName))]),e._v(" "),n("td",[e._v(e._s(t.lastVersion))]),e._v(" "),n("td",[e._v(e._s(e.onlineInfo.version))]),e._v(" "),n("td",[e._v(e._s(t.newProject?"是":"否"))])])})],2)]),e._v(" "),n("div",{staticClass:"preview-minor-title"},[e._v("2、华北应用上线列表")]),e._v(" "),n("table",{staticClass:"preview-border",attrs:{border:"1"}},[e._m(8),e._v(" "),n("tbody",[e._l(e.commons,function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t))]),e._v(" "),n("td",[e._v(" - ")]),e._v(" "),n("td",[e._v(" - ")]),e._v(" "),n("td",[e._v("否")])])}),e._v(" "),e._l(e.northProjects,function(t,r){return n("tr",{key:t.id+"-"+r},[n("td",[e._v(e._s(t.projectName))]),e._v(" "),n("td",[e._v(e._s(t.lastVersion))]),e._v(" "),n("td",[e._v(e._s(e.onlineInfo.version))]),e._v(" "),n("td",[e._v(e._s(t.newProject?"是":"否"))])])})],2)])])]),e._v(" "),n("div",[n("div",{staticClass:"preview-main-title"},[e._v("十、代码分支列表")]),e._v(" "),n("table",{staticClass:"preview-border",attrs:{border:"1"}},[e._m(9),e._v(" "),n("tbody",[e._l(e.needs,function(t,r){return[e.rowspan(t[1])>0?[e._l(t[1],function(i,a){return[e._l(i[1],function(o,s){return[n("tr",{key:r+"-"+a+"-"+s},0===s?[n("td",{staticStyle:{width:"15%"}},[e._v(e._s(o.projectName))]),e._v(" "),n("td",{staticStyle:{width:"20%"},attrs:{rowspan:i[1].length}},[e._v(e._s(o.projectBranch))]),e._v(" "),0===a&&0===s?n("td",{attrs:{rowspan:e._f("rowspan")(t[1])}},[e._v(e._s(e._f("needName")(t[0],e.onlineInfo,e.onlineNeedTypes)))]):e._e(),e._v(" "),1===o.type&&0!==o.userName.length?n("td",{staticStyle:{width:"10%"}},[e._v(e._s(o.userName))]):n("td",{staticStyle:{width:"10%"}},[e._v(" - ")]),e._v(" "),0===o.type&&0!==o.userName.length?n("td",{staticStyle:{width:"10%"}},[e._v(e._s(o.userName))]):n("td",{staticStyle:{width:"10%"}},[e._v(" - ")]),e._v(" "),n("td",{staticStyle:{width:"10%"}},[e._v(" - ")])]:[n("td",{staticStyle:{width:"15%"}},[e._v(e._s(o.projectName))]),e._v(" "),1===o.type&&0!==o.userName.length?n("td",{staticStyle:{width:"10%"}},[e._v(e._s(o.userName))]):n("td",{staticStyle:{width:"10%"}},[e._v(" - ")]),e._v(" "),0===o.type&&0!==o.userName.length?n("td",{staticStyle:{width:"10%"}},[e._v(e._s(o.userName))]):n("td",{staticStyle:{width:"10%"}},[e._v(" - ")]),e._v(" "),n("td",{staticStyle:{width:"10%"}},[e._v(" - ")])])]})]})]:[n("tr",{key:r+"-0-0",attrs:{bgcolor:"#FFB6C1"}},[n("td",{staticStyle:{width:"15%"}},[e._v(" - ")]),e._v(" "),n("td",{staticStyle:{width:"20%"}},[e._v(" - ")]),e._v(" "),n("td",[e._v(e._s(e._f("needName")(t[0],e.onlineInfo,e.onlineNeedTypes)))]),e._v(" "),n("td",{staticStyle:{width:"10%"}},[e._v(" - ")]),e._v(" "),n("td",{staticStyle:{width:"10%"}},[e._v(" - ")]),e._v(" "),n("td",{staticStyle:{width:"10%"}},[e._v(" - ")])])]]})],2)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("无")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("无")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("无")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("无")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("无")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"preview-main-title"},[this._v("六、回滚方案")]),this._v(" "),t("ul",[t("li",[this._v("上线失败（影响支付等），立即回滚到各个机房的上线前版本。")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"preview-main-title"},[this._v("八、值班人员")]),this._v(" "),t("div",[this._v("请以下人员第二天5点后保持手机畅通：")]),this._v(" "),t("div",[this._v("研发：@沈会亮 15033519983")]),this._v(" "),t("div",[this._v("运维：@林常禹 13520060543")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("zys华东应用")]),this._v(" "),t("th",[this._v("上线前版本")]),this._v(" "),t("th",[this._v("计划上线版本")]),this._v(" "),t("th",[this._v("是否新增")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("zys华北应用")]),this._v(" "),t("th",[this._v("上线前版本")]),this._v(" "),t("th",[this._v("计划上线版本")]),this._v(" "),t("th",[this._v("是否新增")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("应用")]),e._v(" "),n("th",[e._v("分支")]),e._v(" "),n("th",[e._v("关联上线内容")]),e._v(" "),n("th",[e._v("后端研发")]),e._v(" "),n("th",[e._v("前端研发")]),e._v(" "),n("th",[e._v("终端研发")])])])}]};var S={components:{appPreview:n("VU/8")(O,L,!1,function(e){n("Vj7S")},null,null).exports},data:function(){return{remarkTypes:[{value:0,label:"运维上线内容"},{value:1,label:"终端上线内容"},{value:2,label:"上线影响"},{value:3,label:"上线风险及注意事项"}],onlineNeedActive:"front",statues:["process","finish","success","error","wait"],icons:["el-icon-info","el-icon-loading","el-icon-success","el-icon-error","el-icon-remove"],loading:!0,needOperateDialogVisible:!1,onlineNeed:{},needDrawer:!1,onlineList:[],online:{},dialogTableVisible:!1,dialogFormVisible:!1,lastId:null,onlineTimes:k.onlineTimes,fronts:x.fronts,servers:x.servers,gits:x.gits,commons:x.commons,onlineAppform:{name:"",phone:null,email:null,date:Date.parse(new Date),time:1350,version:""},formLabelWidth:"120px",pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()},shortcuts:k.shortcuts},onlineAppformRules:k.onlineAppformRules,onlineNeedTypes:k.onlineNeedTypes,person:z.default,personOptions:[],projectOptions:[],uploadAction:window.API_ROOT+"/api/file/",downloadAction:window.API_ROOT+"/api/file/",isUploading:!1,dialogMergeVisible:!1,projects:[]}},filters:{formateDate:function(e){var t=new Date(e.date);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+parseInt(e.time/60)+":"+e.time%60},userInfo:function(e){return"申请人："+e.name+"  手机号："+e.phone+"  邮箱："+e.email},needInfo:function(e,t){return void 0===e.type?"":"【"+t[e.type].label+"】 "+e.name}},methods:{list:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return h()(p.a.mark(function n(){var r;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,e.loading=!0,n.next=4,b({url:"/api/onlineapp",params:{lastId:r.lastId},args:{refresh:t},success:function(e,t){r.loading=!1;var n,i=e.data.list;t.refresh?r.onlineList=i:((n=r.onlineList).push.apply(n,d()(i)),r.lastId=i[i.length-1].id)}});case 4:case"end":return n.stop()}},n,e)}))()},resetForm:function(e){var t=this;return h()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.$refs[e].resetFields();case 1:case"end":return n.stop()}},n,t)}))()},closeOnlineAppDialog:function(){var e=this;return h()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(w.setTimeout)(function(){e.onlineAppform={name:"",phone:null,email:null,date:Date.parse(new Date),time:1350,version:""},e.online={},e.resetForm("onlineAppform")},100);case 1:case"end":return t.stop()}},t,e)}))()},onlineAppSave:function(e){var t=this;return h()(p.a.mark(function n(){var r;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=t,t.$refs[e].validate(function(){var e=h()(p.a.mark(function e(n){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=9;break}if(!t.onlineAppform.id){e.next=6;break}return e.next=4,b({url:"/api/onlineapp",params:t.onlineAppform,method:"PUT",success:function(e){r.lastId=null,r.$notify({title:"成功",message:"保存成功",type:"success"}),r.list()}});case 4:e.next=8;break;case 6:return e.next=8,b({url:"/api/onlineapp",params:t.onlineAppform,method:"POST",success:function(e){r.lastId=null,r.$notify({title:"成功",message:"保存成功",type:"success"}),r.list()}});case 8:t.dialogFormVisible=!1;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return n.stop()}},n,t)}))()},openOnlineAppDialog:function(){var e=this;return h()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.dialogFormVisible=!0,e.needOperateDialogVisible=!1,c()(e.onlineAppform,e.online);case 3:case"end":return t.stop()}},t,e)}))()},openDeleteOnlineAppMessageBox:function(){var e=this;return h()(p.a.mark(function t(){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.needOperateDialogVisible=!1,n=e,e.$confirm("确定删除此次上线计划?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){b({url:"/api/onlineapp/"+e.online.id,method:"delete",success:function(e){n.list(),n.$notify({type:"success",title:"成功",message:"删除成功!"}),n.online={}}})}).catch(function(){n.$notify.error({type:"success",title:"取消",message:"已取消删除!"}),n.online={}});case 3:case"end":return t.stop()}},t,e)}))()},openOnlineNeedsDialog:function(){var e=this;return h()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.dialogTableVisible=!0,e.needOperateDialogVisible=!1;case 2:case"end":return t.stop()}},t,e)}))()},onlineNeedSave:function(e){var t=this;return h()(p.a.mark(function n(){var r;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t,!e.id){n.next=6;break}return n.next=4,b({url:"/api/onlineneed",params:e,method:"PUT",success:function(e){r.$notify({type:"success",title:"成功",message:"保存成功"})}});case 4:n.next=8;break;case 6:return n.next=8,b({url:"/api/onlineneed",params:e,method:"POST",success:function(t){r.$notify({type:"success",title:"成功",message:"保存成功"}),e.id=t.data}});case 8:case"end":return n.stop()}},n,t)}))()},openDeleteOnlineNeedMessageBox:function(e,t){var n=this;return h()(p.a.mark(function r(){var i;return p.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:i=n,n.$confirm("确定删除此需求?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e?b({url:"/api/onlineneed/"+e,method:"DELETE",success:function(){i.$notify({type:"success",title:"成功",message:"删除成功"}),i.online.needList.splice(t,1)}}):(n.$notify({type:"success",title:"成功",message:"删除成功"}),n.online.needList.splice(t,1))}).catch(function(){i.$notify.error({title:"取消",message:"已取消删除!"})});case 2:case"end":return r.stop()}},r,n)}))()},closeOnlineNeedDialog:function(){var e=this;return h()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.online={},e.list();case 2:case"end":return t.stop()}},t,e)}))()},onlineNeedDetailSave:function(e,t){var n=this;return h()(p.a.mark(function r(){var i,a,o;return p.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.projectName){r.next=3;break}return n.$notify({type:"error",title:"保存失败",message:"请选择工程"}),r.abrupt("return");case 3:if(e.projectBranch){r.next=6;break}return n.$notify({type:"error",title:"保存失败",message:"请填写分支"}),r.abrupt("return");case 6:if(e.userName){r.next=9;break}return n.$notify({type:"error",title:"保存失败",message:"请填写开发者"}),r.abrupt("return");case 9:i="",r.t0=p.a.keys(t);case 11:if((r.t1=r.t0()).done){r.next=19;break}if(a=r.t1.value,e.projectName!==t[a].value){r.next=17;break}return r.next=16,b({url:"/api/proxy/url",params:{url:t[a].url},success:function(e){i="string"==typeof e.data?e.data.split("=")[1]:e.data.git.branch}});case 16:return r.abrupt("break",20);case 17:r.next=11;break;case 19:e.newProject=!0;case 20:if(e.lastVersion=i,o=n,!e.id){r.next=27;break}return r.next=25,b({url:"/api/onlineneeddetail",params:e,method:"PUT",success:function(e){o.$notify({type:"success",title:"成功",message:"保存成功"})}});case 25:r.next=29;break;case 27:return r.next=29,b({url:"/api/onlineneeddetail",params:e,method:"POST",success:function(t){o.$notify({type:"success",title:"成功",message:"保存成功"}),e.id=t.data}});case 29:case"end":return r.stop()}},r,n)}))()},onlineNeedTestDetailSave:function(e){var t=this;return h()(p.a.mark(function n(){var r;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.userName){n.next=3;break}return t.$notify({type:"error",title:"保存失败",message:"请填写开发者"}),n.abrupt("return");case 3:if(r=t,!e.id){n.next=9;break}return n.next=7,b({url:"/api/onlineneeddetail",params:e,method:"PUT",success:function(e){r.$notify({type:"success",title:"成功",message:"保存成功"})}});case 7:n.next=11;break;case 9:return n.next=11,b({url:"/api/onlineneeddetail",params:e,method:"POST",success:function(t){r.$notify({type:"success",title:"成功",message:"保存成功"}),e.id=t.data}});case 11:case"end":return n.stop()}},n,t)}))()},openDeleteOnlineNeedDetailMessageBox:function(e,t,n){var r=this;return h()(p.a.mark(function i(){var a;return p.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:a=r,r.$confirm("确定删除此项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e?b({url:"/api/onlineneeddetail/"+e,method:"DELETE",success:function(){a.$notify({type:"success",title:"成功",message:"删除成功"}),n.splice(t,1)}}):(r.$notify({type:"success",title:"成功",message:"删除成功"}),n.splice(t,1))}).catch(function(){a.$notify.error({title:"取消",message:"已取消删除!"})});case 2:case"end":return i.stop()}},i,r)}))()},onlineNeedRemarkSave:function(e){var t=this;return h()(p.a.mark(function n(){var r;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.remark){n.next=3;break}return t.$notify({type:"error",title:"保存失败",message:"请正确填写"}),n.abrupt("return");case 3:if(r=t,!e.id){n.next=9;break}return n.next=7,b({url:"/api/onlineneedremark",params:e,method:"PUT",success:function(e){r.$notify({type:"success",title:"成功",message:"保存成功"})}});case 7:n.next=11;break;case 9:return n.next=11,b({url:"/api/onlineneedremark",params:e,method:"POST",success:function(t){r.$notify({type:"success",title:"成功",message:"保存成功"}),e.id=t.data}});case 11:case"end":return n.stop()}},n,t)}))()},openDeleteOnlineNeedRemarkMessageBox:function(e,t,n){var r=this;return h()(p.a.mark(function i(){var a;return p.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:a=r,r.$confirm("确定删除此项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e?b({url:"/api/onlineneedremark/"+e,method:"DELETE",success:function(){a.$notify({type:"success",title:"成功",message:"删除成功"}),n.splice(t,1)}}):(r.$notify({type:"success",title:"成功",message:"删除成功"}),n.splice(t,1))}).catch(function(){a.$notify.error({title:"取消",message:"已取消删除!"})});case 2:case"end":return i.stop()}},i,r)}))()},queryPerson:function(e){var t=this;return h()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e?Object(w.setTimeout)(function(){t.personOptions=t.person.filter(function(t){return t.name.indexOf(e)>-1},200)}):t.options=[].concat(t.person);case 1:case"end":return n.stop()}},n,t)}))()},queryFrontProject:function(e){var t=this;return h()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e?Object(w.setTimeout)(function(){t.projectOptions=t.fronts.filter(function(t){return t.value.indexOf(e)>-1},200)}):t.projectOptions=[].concat(t.fronts);case 1:case"end":return n.stop()}},n,t)}))()},queryServerProject:function(e){var t=this;return h()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e?Object(w.setTimeout)(function(){t.projectOptions=t.servers.filter(function(t){return t.value.indexOf(e)>-1},200)}):t.projectOptions=[].concat(t.servers);case 1:case"end":return n.stop()}},n,t)}))()},openOnlineNeedDrawer:function(e){var t=this;return h()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.onlineNeed=JSON.parse(s()(e)),t.needDrawer=!0;case 2:case"end":return n.stop()}},n,t)}))()},closeOnlineNeedDrawer:function(){var e=this;return h()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$confirm("是否每项都已保存？是否还需要商家中心配合？是否还需要刷库？是否还需要配置定时任务？","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then(function(){e.needDrawer=!0,e.onlineNeedActive="other"}).catch(function(){e.onlineNeed={},e.onlineNeedActive="front",e.list()});case 1:case"end":return t.stop()}},t,e)}))()},openNeedOperateDialog:function(e){var t=this;return h()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.online=JSON.parse(s()(e)),t.needOperateDialogVisible=!0;case 2:case"end":return n.stop()}},n,t)}))()},remove:function(e,t,n){var r=this;return h()(p.a.mark(function i(){var a;return p.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:a=r,r.$confirm("确定删除此项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e?b({url:"/api/file/"+e,method:"DELETE",success:function(){a.$notify({type:"success",title:"成功",message:"删除成功"}),t.splice(n,1)}}):(r.$notify({type:"success",title:"成功",message:"删除成功"}),t.splice(n,1))}).catch(function(){a.$notify.error({title:"取消",message:"已取消删除!"})});case 2:case"end":return i.stop()}},i,r)}))()},uploadSuccess:function(e,t){var n=this;return h()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.list();case 2:n.isUploading=!1,n.$notify({type:"success",title:"成功",message:"文件上传成功"});case 4:case"end":return e.stop()}},e,n)}))()},uploading:function(){var e=this;return h()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.isUploading=!0;case 1:case"end":return t.stop()}},t,e)}))()},uploadErr:function(){var e=this;return h()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.isUploading=!1,e.$notify.error({title:"失败",message:"文件上传失败"});case 2:case"end":return t.stop()}},t,e)}))()},openMergeDialog:function(){var e=this;return h()(p.a.mark(function t(){var n,r,i,o,s,l,c,u,f,d,v,h,m,y,_,g,b,w,x,k,z,N,j,T,O,L,S,D;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e.dialogMergeVisible=!0,e.needOperateDialogVisible=!1,n=e.online.needList,r=[],i=!0,o=!1,s=void 0,t.prev=7,l=a()(e.commons);!(i=(c=l.next()).done);i=!0)u=c.value,e.projects.push({name:u,status:0,icon:0,noTag:!0,merge:!0});t.next=15;break;case 11:t.prev=11,t.t0=t.catch(7),o=!0,s=t.t0;case 15:t.prev=15,t.prev=16,!i&&l.return&&l.return();case 18:if(t.prev=18,!o){t.next=21;break}throw s;case 21:return t.finish(18);case 22:return t.finish(15);case 23:if(!n){t.next=88;break}f=!0,d=!1,v=void 0,t.prev=27,h=a()(n);case 29:if(f=(m=h.next()).done){t.next=74;break}for(y=m.value,_=y.serverList,g=y.frontList,b=!0,w=!1,x=void 0,t.prev=36,k=a()(_);!(b=(z=k.next()).done);b=!0)N=z.value,-1===r.indexOf(N.projectName)&&(e.projects.push({name:N.projectName,status:0,icon:0,noTag:!1,merge:!0}),r.push(N.projectName));t.next=44;break;case 40:t.prev=40,t.t1=t.catch(36),w=!0,x=t.t1;case 44:t.prev=44,t.prev=45,!b&&k.return&&k.return();case 47:if(t.prev=47,!w){t.next=50;break}throw x;case 50:return t.finish(47);case 51:return t.finish(44);case 52:for(j=!0,T=!1,O=void 0,t.prev=55,L=a()(g);!(j=(S=L.next()).done);j=!0)D=S.value,-1===r.indexOf(D.projectName)&&(e.projects.push({name:D.projectName,status:0,icon:0,noTag:!1,merge:!0}),r.push(D.projectName));t.next=63;break;case 59:t.prev=59,t.t2=t.catch(55),T=!0,O=t.t2;case 63:t.prev=63,t.prev=64,!j&&L.return&&L.return();case 66:if(t.prev=66,!T){t.next=69;break}throw O;case 69:return t.finish(66);case 70:return t.finish(63);case 71:f=!0,t.next=29;break;case 74:t.next=80;break;case 76:t.prev=76,t.t3=t.catch(27),d=!0,v=t.t3;case 80:t.prev=80,t.prev=81,!f&&h.return&&h.return();case 83:if(t.prev=83,!d){t.next=86;break}throw v;case 86:return t.finish(83);case 87:return t.finish(80);case 88:case"end":return t.stop()}},t,e,[[7,11,15,23],[16,,18,22],[27,76,80,88],[36,40,44,52],[45,,47,51],[55,59,63,71],[64,,66,70],[81,,83,87]])}))()},merge:function(){var e=this;return h()(p.a.mark(function t(){var n,r,i,o,s,l,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=function(t){if(t.merge){var n=e.gits.get(t.name);n?(t.status=1,t.icon=1,b({baseURL:"http://192.168.1.29:996",url:"/diabbo/merge",params:{tagName:t.noTag?null:e.online.version,projectRepository:n},method:"GET",success:function(e){t.status=2,t.icon=2},error:function(e){t.status=3,t.icon=3}})):(t.status=3,t.icon=3)}},r=!0,i=!1,o=void 0,t.prev=4,s=a()(e.projects);!(r=(l=s.next()).done);r=!0)c=l.value,n(c);t.next=12;break;case 8:t.prev=8,t.t0=t.catch(4),i=!0,o=t.t0;case 12:t.prev=12,t.prev=13,!r&&s.return&&s.return();case 15:if(t.prev=15,!i){t.next=18;break}throw o;case 18:return t.finish(15);case 19:return t.finish(12);case 20:case"end":return t.stop()}},t,e,[[4,8,12,20],[13,,15,19]])}))()},closeMergedDialog:function(){var e=this;return h()(p.a.mark(function t(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.dialogMergeVisible=!1,e.online={},e.projects=[];case 3:case"end":return t.stop()}},t,e)}))()},mergeTrigger:function(e){var t=this;return h()(p.a.mark(function n(){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.merge?(e.merge=!1,e.status=4,e.icon=4):(e.merge=!0,e.status=0,e.icon=0);case 1:case"end":return t.stop()}},n,t)}))()}},computed:{tableMaxHeight:function(){return parseInt(.93*(window.innerHeight-150))+"px"}},created:function(){this.list()},beforeCreate:function(){window.parent.postMessage("ok","*"),window.addEventListener("message",function(e){})}},D={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cnode-container"},[n("m-box",[n("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("开始新的上线计划")]),e._v(" "),n("el-timeline",e._l(e.onlineList,function(t){return n("el-timeline-item",{key:t.id},[n("el-card",[n("el-link",{attrs:{type:"danger"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.openNeedOperateDialog(t)}}},[e._v(e._s(e._f("formateDate")(t))+" 上线计划")]),e._v(" "),n("br"),e._v(" "),n("el-link",{attrs:{type:"primary"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.openNeedOperateDialog(t)}}},[e._v(e._s(e._f("userInfo")(t)))]),e._v(" "),n("el-collapse",{attrs:{accordion:""}},[n("el-collapse-item",{attrs:{disabled:0===t.needList.length}},[n("template",{slot:"title"},[e._v("\n                上线需求"),n("i",{staticClass:"header-icon el-icon-info"})]),e._v(" "),n("el-row",{attrs:{gutter:10}},e._l(t.needList,function(t,r){return n("el-col",{key:t.id,staticStyle:{"margin-top":"10px"},attrs:{span:8}},[n("el-card",{attrs:{shadow:"hover"},nativeOn:{click:function(n){return e.openOnlineNeedDrawer(t)}}},[e._v("\n                    "+e._s(r+1+"、")+e._s(e._f("needInfo")(t,e.onlineNeedTypes))+"\n                  ")])],1)}),1)],2)],1),e._v(" "),n("el-collapse",{attrs:{accordion:""}},[n("el-collapse-item",[n("template",{slot:"title"},[e._v("\n                文件库"),n("i",{staticClass:"header-icon el-icon-info"})]),e._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isUploading,expression:"isUploading"}],attrs:{"element-loading-text":"拼命上传中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[n("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:e.uploadAction+t.id,"show-file-list":!1,"on-success":e.uploadSuccess,"on-progress":e.uploading,"on-error":e.uploadErr}},[n("i",{staticClass:"el-icon-upload"}),e._v(" "),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")])])]),e._v(" "),n("ul",{staticClass:"el-upload-list el-upload-list--picture-card"},e._l(t.fileList,function(r,i){return n("li",{key:r.id,staticClass:"el-upload-list__item is-success"},[n("div",[n("span",[e._v(e._s(r.originName))]),e._v(" "),n("span",{staticClass:"el-upload-list__item-actions"},[n("span",{staticClass:"el-upload-list__item-delete"},[n("a",{attrs:{href:e.downloadAction+r.id}},[n("i",{staticClass:"el-icon-download"})])]),e._v(" "),n("span",{staticClass:"el-upload-list__item-delete",on:{click:function(n){return e.remove(r.id,t.fileList,i)}}},[n("i",{staticClass:"el-icon-delete"})])])])])}),0)],1)],2)],1),e._v(" "),n("el-collapse",{attrs:{accordion:""}},[n("el-collapse-item",{attrs:{disabled:0===t.needList.length}},[n("template",{slot:"title"},[e._v("\n                预览"),n("i",{staticClass:"header-icon el-icon-info"})]),e._v(" "),n("app-preview",{attrs:{onlineInfo:t}})],2)],1)],1)],1)}),1)],1),e._v(" "),n("el-drawer",{ref:"drawer",attrs:{title:"上线计划",visible:e.dialogFormVisible,direction:"rtl",size:"50%","custom-class":"demo-drawer"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeOnlineAppDialog}},[n("div",{staticClass:"demo-drawer__content",staticStyle:{margin:"0px 25px 0 25px"}},[n("el-form",{ref:"onlineAppform",attrs:{model:e.onlineAppform,rules:e.onlineAppformRules}},[n("el-form-item",{attrs:{label:"申 请 人","label-width":e.formLabelWidth,prop:"name"}},[n("el-select",{attrs:{filterable:"",remote:"","allow-create":"","default-first-option":"",placeholder:"请输入关键词","remote-method":e.queryPerson},model:{value:e.onlineAppform.name,callback:function(t){e.$set(e.onlineAppform,"name",t)},expression:"onlineAppform.name"}},e._l(e.personOptions,function(e){return n("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"手 机 号","label-width":e.formLabelWidth,prop:"phone"}},[n("el-input",{staticStyle:{width:"50%"},attrs:{autocomplete:"off"},model:{value:e.onlineAppform.phone,callback:function(t){e.$set(e.onlineAppform,"phone",e._n(t))},expression:"onlineAppform.phone"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"邮 箱","label-width":e.formLabelWidth,prop:"email"}},[n("el-input",{staticStyle:{width:"50%"},attrs:{autocomplete:"off"},model:{value:e.onlineAppform.email,callback:function(t){e.$set(e.onlineAppform,"email",t)},expression:"onlineAppform.email"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"上 线 日 期","label-width":e.formLabelWidth,prop:"date"}},[n("el-date-picker",{attrs:{"value-format":"timestamp",align:"center",type:"date",placeholder:"请选择日期","picker-options":e.pickerOptions},model:{value:e.onlineAppform.date,callback:function(t){e.$set(e.onlineAppform,"date",t)},expression:"onlineAppform.date"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"上 线 时 间","label-width":e.formLabelWidth,prop:"time"}},[n("el-select",{attrs:{placeholder:"请选择时间"},model:{value:e.onlineAppform.time,callback:function(t){e.$set(e.onlineAppform,"time",t)},expression:"onlineAppform.time"}},e._l(e.onlineTimes,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"上 线 版 本","label-width":e.formLabelWidth}},[n("el-input",{staticStyle:{width:"50%"},attrs:{autocomplete:"off"},model:{value:e.onlineAppform.version,callback:function(t){e.$set(e.onlineAppform,"version",t)},expression:"onlineAppform.version"}})],1)],1),e._v(" "),n("div",{staticClass:"demo-drawer__footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onlineAppSave("onlineAppform")}}},[e._v("确 定")]),e._v(" "),n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1)]),e._v(" "),n("el-drawer",{attrs:{title:"上线需求",visible:e.dialogTableVisible,direction:"rtl",size:"85%"},on:{"update:visible":function(t){e.dialogTableVisible=t},closed:e.closeOnlineNeedDialog}},[n("div",{staticStyle:{margin:"0px 25px 0px 25px"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.online.needList.push({id:null,name:"",type:0,executePermission:0,appId:e.online.id})}}},[e._v("+ 需 求")]),e._v(" "),n("el-table",{attrs:{data:e.online.needList,"max-height":e.tableMaxHeight}},[n("el-table-column",{attrs:{align:"center",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{attrs:{placeholder:"请选择需求类型"},model:{value:t.row.type,callback:function(n){e.$set(t.row,"type",n)},expression:"scope.row.type"}},e._l(e.onlineNeedTypes,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"需求"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请填写需求"},model:{value:t.row.name,callback:function(n){e.$set(t.row,"name",n)},expression:"scope.row.name"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{on:{click:function(n){return e.onlineNeedSave(t.row)}}},[e._v("保存")]),e._v(" "),n("el-button",{on:{click:function(n){return e.openDeleteOnlineNeedMessageBox(t.row.id,t.$index)}}},[e._v("移除")])]}}])})],1)],1)]),e._v(" "),n("el-drawer",{attrs:{title:"develop -> master",visible:e.dialogMergeVisible,direction:"rtl",size:"35%"},on:{"update:visible":function(t){e.dialogMergeVisible=t},closed:e.closeMergedDialog}},[n("div",{staticStyle:{margin:"0px 25px 0px 25px"}},[n("el-button",{attrs:{type:"primary",disabled:""===e.online.version||!e.online.needList},on:{click:e.merge}},[e._v("合 并")]),e._v(" "),n("div",{style:{"max-height":e.tableMaxHeight,height:e.tableMaxHeight,"margin-top":"25px"}},[n("el-steps",{attrs:{direction:"vertical","align-center":""}},e._l(e.projects,function(t,r){return n("el-step",{key:r,attrs:{title:t.name,status:e.statues[t.status],icon:e.icons[t.icon]},nativeOn:{click:function(n){return e.mergeTrigger(t)}}})}),1)],1)],1)]),e._v(" "),n("el-drawer",{attrs:{title:e._f("needInfo")(e.onlineNeed,e.onlineNeedTypes),visible:e.needDrawer,direction:"rtl",size:"85%"},on:{"update:visible":function(t){e.needDrawer=t},closed:e.closeOnlineNeedDrawer}},[n("el-tabs",{staticStyle:{margin:"0px 25px 0px 25px"},attrs:{type:"border-card"},model:{value:e.onlineNeedActive,callback:function(t){e.onlineNeedActive=t},expression:"onlineNeedActive"}},[n("el-tab-pane",{attrs:{label:"前端",name:"front"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onlineNeed.frontList.push({id:null,projectName:"",projectBranch:"",userName:"",newProject:!1,lastVersion:"",type:0,needId:e.onlineNeed.id})}}},[e._v("+ 工 程")]),e._v(" "),n("el-table",{attrs:{data:e.onlineNeed.frontList,"max-height":e.tableMaxHeight}},[n("el-table-column",{attrs:{align:"center",label:"工程名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{attrs:{filterable:"",remote:"","allow-create":"","default-first-option":"",placeholder:"请选择工程","remote-method":e.queryFrontProject},model:{value:t.row.projectName,callback:function(n){e.$set(t.row,"projectName",n)},expression:"scope.row.projectName"}},e._l(e.fronts,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"分支名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{type:"text"},model:{value:t.row.projectBranch,callback:function(n){e.$set(t.row,"projectBranch",n)},expression:"scope.row.projectBranch"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"开发者"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{type:"text"},model:{value:t.row.userName,callback:function(n){e.$set(t.row,"userName",n)},expression:"scope.row.userName"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{on:{click:function(n){return e.onlineNeedDetailSave(t.row,e.fronts)}}},[e._v("保存")]),e._v(" "),n("el-button",{on:{click:function(n){return e.openDeleteOnlineNeedDetailMessageBox(t.row.id,t.$index,e.onlineNeed.frontList)}}},[e._v("移除")])]}}])})],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"后台",name:"server"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onlineNeed.serverList.push({id:null,projectName:"",projectBranch:"",userName:"",newProject:!1,lastVersion:"",type:1,needId:e.onlineNeed.id})}}},[e._v("+ 工 程")]),e._v(" "),n("el-table",{attrs:{data:e.onlineNeed.serverList,"max-height":e.tableMaxHeight}},[n("el-table-column",{attrs:{align:"center",label:"工程名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{attrs:{filterable:"",remote:"","allow-create":"","default-first-option":"",placeholder:"请选择工程","remote-method":e.queryServerProject},model:{value:t.row.projectName,callback:function(n){e.$set(t.row,"projectName",n)},expression:"scope.row.projectName"}},e._l(e.servers,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"分支名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{type:"text"},model:{value:t.row.projectBranch,callback:function(n){e.$set(t.row,"projectBranch",n)},expression:"scope.row.projectBranch"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"开发者"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{type:"text"},model:{value:t.row.userName,callback:function(n){e.$set(t.row,"userName",n)},expression:"scope.row.userName"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{on:{click:function(n){return e.onlineNeedDetailSave(t.row,e.servers)}}},[e._v("保存")]),e._v(" "),n("el-button",{on:{click:function(n){return e.openDeleteOnlineNeedDetailMessageBox(t.row.id,t.$index,e.onlineNeed.serverList)}}},[e._v("移除")])]}}])})],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"SQL",name:"sql"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onlineNeed.sqlList.push({id:null,remark:"",type:0,remarkType:0,needId:e.onlineNeed.id})}}},[e._v("+ S Q L")]),e._v(" "),n("el-table",{attrs:{data:e.onlineNeed.sqlList,"max-height":e.tableMaxHeight}},[n("el-table-column",{attrs:{align:"center",label:"SQL"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:25,placeholder:"请填写SQL"},model:{value:t.row.remark,callback:function(n){e.$set(t.row,"remark",n)},expression:"scope.row.remark"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{on:{click:function(n){return e.onlineNeedRemarkSave(t.row)}}},[e._v("保存")]),e._v(" "),n("el-button",{on:{click:function(n){return e.openDeleteOnlineNeedRemarkMessageBox(t.row.id,t.$index,e.onlineNeed.sqlList)}}},[e._v("移除")])]}}])})],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"其他",name:"other"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onlineNeed.remarkList.push({id:null,remark:"",type:1,remarkType:0,needId:e.onlineNeed.id})}}},[e._v("+ 备 注")]),e._v(" "),n("el-table",{attrs:{data:e.onlineNeed.remarkList,"max-height":e.tableMaxHeight}},[n("el-table-column",{attrs:{align:"center",label:"注意事项"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择注意事项"},model:{value:t.row.remarkType,callback:function(n){e.$set(t.row,"remarkType",n)},expression:"scope.row.remarkType"}},e._l(e.remarkTypes,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),n("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:23,placeholder:"请填写备注"},model:{value:t.row.remark,callback:function(n){e.$set(t.row,"remark",n)},expression:"scope.row.remark"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{on:{click:function(n){return e.onlineNeedRemarkSave(t.row)}}},[e._v("保存")]),e._v(" "),n("el-button",{on:{click:function(n){return e.openDeleteOnlineNeedRemarkMessageBox(t.row.id,t.$index,e.onlineNeed.remarkList)}}},[e._v("移除")])]}}])})],1)],1),e._v(" "),n("el-tab-pane",{attrs:{label:"测试",name:"test"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onlineNeed.testList.push({id:null,projectName:"",projectBranch:"",userName:"",newProject:!1,lastVersion:"",type:2,needId:e.onlineNeed.id})}}},[e._v("+ 测 试")]),e._v(" "),n("el-table",{attrs:{data:e.onlineNeed.testList,"max-height":e.tableMaxHeight}},[n("el-table-column",{attrs:{align:"center",label:"测试者"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{attrs:{type:"text"},model:{value:t.row.userName,callback:function(n){e.$set(t.row,"userName",n)},expression:"scope.row.userName"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{on:{click:function(n){return e.onlineNeedTestDetailSave(t.row)}}},[e._v("保存")]),e._v(" "),n("el-button",{on:{click:function(n){return e.openDeleteOnlineNeedDetailMessageBox(t.row.id,t.$index,e.onlineNeed.testList)}}},[e._v("移除")])]}}])})],1)],1)],1)],1),e._v(" "),n("el-dialog",{attrs:{visible:e.needOperateDialogVisible,width:"30%",center:"","show-close":!1},on:{"update:visible":function(t){e.needOperateDialogVisible=t}}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:12},nativeOn:{click:function(t){return e.openOnlineAppDialog()}}},[n("el-card",{attrs:{shadow:"hover"}},[e._v("\n          修改\n        ")])],1),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-card",{attrs:{shadow:"hover"},nativeOn:{click:function(t){return e.openDeleteOnlineAppMessageBox()}}},[e._v("\n          删除\n        ")])],1),e._v(" "),n("el-col",{staticStyle:{"margin-top":"5px"},attrs:{span:12}},[n("el-card",{attrs:{shadow:"hover"},nativeOn:{click:function(t){return e.openOnlineNeedsDialog()}}},[e._v("\n          需求\n        ")])],1),e._v(" "),n("el-col",{staticStyle:{"margin-top":"5px"},attrs:{span:12}},[n("el-card",{attrs:{shadow:"hover"},nativeOn:{click:function(t){return e.openMergeDialog()}}},[e._v("\n          合并\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var E=n("VU/8")(S,D,!1,function(e){n("Ngpc")},"data-v-56a7dc3e",null);t.default=E.exports},mvHQ:function(e,t,n){e.exports={default:n("qkKv"),__esModule:!0}},mypn:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,a,o,s,l=1,c={},u=!1,p=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){v(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){v(e.data)},r=function(e){a.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(i=p.documentElement,r=function(e){var t=p.createElement("script");t.onreadystatechange=function(){v(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(v,0,e)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&v(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(o+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,r(l),l++},f.clearImmediate=d}function d(e){delete c[e]}function v(e){if(u)setTimeout(v,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{d(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n("DuR2"),n("W2nU"))},oeOm:function(e,t,n){var r=n("7Doy");e.exports=function(e,t){return new(r(e))(t)}},pkTi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"fronts",function(){return i}),n.d(t,"eastServers",function(){return a}),n.d(t,"servers",function(){return o}),n.d(t,"gits",function(){return l}),n.d(t,"commons",function(){return s});var r=n("ifoU"),i=[{value:"front-manage",label:"front-manage",url:"http://zys.zhiyunshan.com/console/version.txt"},{value:"front-reserve",label:"front-reserve",url:"http://zys.zhiyunshan.com/reserve/version.txt"},{value:"front-mobile",label:"front-mobile",url:"http://zys.zhiyunshan.com/mobile/version.txt"},{value:"front-aux",label:"front-aux",url:"http://zys.zhiyunshan.com/aux/version.txt"}],a=[{value:"zys-auth",label:"zys-auth",url:"http://zys.zhiyunshan.com/auth/shl/info"},{value:"zys-base",label:"zys-base",url:"http://zys.zhiyunshan.com/base/shl/info"},{value:"zys-food",label:"zys-food",url:"http://zys.zhiyunshan.com/food/shl/info"},{value:"zys-pay",label:"zys-pay",url:"http://zys.zhiyunshan.com/pay/shl/info"},{value:"zys-upload",label:"zys-upload",url:"http://zys.zhiyunshan.com/upload/shl/info"},{value:"zys-report",label:"zys-report",url:"http://zys.zhiyunshan.com/report/shl/info"}],o=[{value:"zys-auth",label:"zys-auth",url:"http://zys.zhiyunshan.com/auth/shl/info"},{value:"zys-base",label:"zys-base",url:"http://zys.zhiyunshan.com/base/shl/info"},{value:"zys-food",label:"zys-food",url:"http://zys.zhiyunshan.com/food/shl/info"},{value:"zys-pay",label:"zys-pay",url:"http://zys.zhiyunshan.com/pay/shl/info"},{value:"zys-upload",label:"zys-upload",url:"http://zys.zhiyunshan.com/upload/shl/info"},{value:"zys-report",label:"zys-report",url:"http://zys.zhiyunshan.com/report/shl/info"},{value:"zys-openapi-base",label:"zys-openapi-base",url:"http://zys.zhiyunshan.com/openapi-base/shl/info"},{value:"zys-openapi-pay",label:"zys-openapi-pay",url:"http://zys.zhiyunshan.com/openapi-pay/shl/info"},{value:"zys-access",label:"zys-access",url:"http://zys.zhiyunshan.com/access/shl/info"},{value:"zys-assistant",label:"zys-assistant",url:"http://zys.zhiyunshan.com/assistant/shl/info"},{value:"zys-zoloz-log",label:"zys-zoloz-log",url:"http://zys.zhiyunshan.com/zoloz-log/shl/info"},{value:"zys-monitor",label:"zys-monitor",url:"http://zys.zhiyunshan.com/monitor/shl/info"},{value:"zys-tiancang",label:"zys-tiancang",url:"http://zys.zhiyunshan.com/tiancang/shl/info"},{value:"zys-mini-tools",label:"zys-mini-tools",url:"http://zys.zhiyunshan.com/mini-tools/shl/info"},{value:"zys-retail",label:"zys-retail",url:"http://zys.zhiyunshan.com/retail/shl/info"}],s=["common-api","common-spring","common-util"],l=new(n.n(r).a)([["common-api","http://192.168.1.254:8989/zhiyunshan/server/zys-commons-api.git"],["common-spring","http://192.168.1.254:8989/zhiyunshan/server/zqsy-commons-spring.git"],["common-util","http://192.168.1.254:8989/zhiyunshan/server/zqsy-commons-util.git"],["front-manage","http://192.168.1.254:8989/zhiyunshan/web/zys-manage-front.git"],["front-reserve","http://192.168.1.254:8989/zhiyunshan/web/zys-reserve-front.git"],["front-mobile","http://192.168.1.254:8989/zhiyunshan/web/zys-mobile-front.git"],["front-aux","http://192.168.1.254:8989/zqsy-nb/zys-web-group/stats-manage-front.git"],["zys-auth","http://192.168.1.254:8989/zhiyunshan/server/zys-auth.git"],["zys-base","http://192.168.1.254:8989/zhiyunshan/server/zys-base.git"],["zys-food","http://192.168.1.254:8989/zhiyunshan/server/zys-food.git"],["zys-pay","http://192.168.1.254:8989/zhiyunshan/server/zys-pay.git"],["zys-upload","http://192.168.1.254:8989/zhiyunshan/server/zys-upload.git"],["zys-report","http://192.168.1.254:8989/zhiyunshan/server/zys-report.git"],["zys-openapi-base","http://192.168.1.254:8989/zhiyunshan/server/zys-openapi-base.git"],["zys-openapi-pay","http://192.168.1.254:8989/zhiyunshan/server/zys-openapi-pay.git"],["zys-access","http://192.168.1.254:8989/zhiyunshan/server/zys-access.git"],["zys-assistant","http://192.168.1.254:8989/zhiyunshan/server/zys-assistant.git"],["zys-zoloz-log","http://192.168.1.254:8989/zhiyunshan/server/zys-zoloz-log.git"],["zys-monitor","http://192.168.1.254:8989/zhiyunshan/server/zys-monitor.git"],["zys-tiancang","http://192.168.1.254:8989/zhiyunshan/server/zys-tiancang.git"],["zys-mini-tools","http://192.168.1.254:8989/zhiyunshan/server/zys-mini-tools.git"],["zys-retail","http://192.168.1.254:8989/zhiyunshan/server/retail.git"]])},qCoq:function(e,t,n){"use strict";var r=n("9C8M"),i=n("LIJb");e.exports=n("qo66")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},qkKv:function(e,t,n){var r=n("FeBl"),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},qo66:function(e,t,n){"use strict";var r=n("7KvD"),i=n("kM2E"),a=n("06OY"),o=n("S82l"),s=n("hJx8"),l=n("xH/j"),c=n("NWt+"),u=n("2KxR"),p=n("EqjI"),f=n("e6n0"),d=n("evD5").f,v=n("ALrJ")(0),h=n("+E39");e.exports=function(e,t,n,m,y,_){var g=r[e],b=g,w=y?"set":"add",x=b&&b.prototype,k={};return h&&"function"==typeof b&&(_||x.forEach&&!o(function(){(new b).entries().next()}))?(b=t(function(t,n){u(t,b,e,"_c"),t._c=new g,void 0!=n&&c(n,y,t[w],t)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in x&&(!_||"clear"!=e)&&s(b.prototype,e,function(n,r){if(u(this,b,e),!t&&_&&!p(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),_||d(b.prototype,"size",{get:function(){return this._c.size}})):(b=m.getConstructor(t,e,y,w),l(b.prototype,n),a.NEED=!0),f(b,e),k[e]=b,i(i.G+i.W+i.F,k),_||m.setStrong(b,e,y),b}}});
//# sourceMappingURL=0.b4203c67d6d075c7f556.js.map